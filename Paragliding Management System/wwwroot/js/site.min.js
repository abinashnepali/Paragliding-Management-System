(function(n){function t(){function f(){n("#datepicker").datepicker({minDate:0,dateFormat:"yy-mm-dd",onSelect:function(){n("#pilotList").show();n.get("api/pilot/search",{offSet:0,date:n(this).val()},function(t){htmlDom="";n.each(t,function(n,t){htmlDom+="<div class='col-sm-6 col-md-4'>";htmlDom+="<div class='thumbnail'>";t.photo=t.photo===null?"/images/noimage.png":t.photo;htmlDom+="<img src='"+t.photo+"' alt='"+t.firstName+" "+t.lastName+"'>";htmlDom+="<div class='caption'>";htmlDom+="<h3>";htmlDom+=t.firstName+" "+t.lastName;htmlDom+="<\/h3>";htmlDom+="<p>Pilot<\/P>";htmlDom+="<p>";htmlDom+="<a class='btn btn-success cart-pilot btn-space' data-staffid='"+t.staffID+"' data-staffName='"+t.firstName+" "+t.lastName+"' role='button'>Hire<\/a>";htmlDom+=" <a class='btn btn-warning hide-pilot btn-space' role='button'>Hide<\/a>";htmlDom+="<\/p>";htmlDom+="<\/div>";htmlDom+="<\/div>";htmlDom+="<\/div>"});n("#staffList").html(htmlDom)}).fail(function(){console.log("something went wrong.")})}})}function e(){function u(t,i){i=i.toLowerCase();i==="info"?(n("#messageSection").addClass("isa_info"),n("#messageSection").removeClass("isa_success"),n("#messageSection").removeClass("isa_error"),n("#mgdLabel").addClass("lblInfo"),n("#mgdLabel").removeClass("lblSuccess"),n("#mgdLabel").removeClass("lblError")):i==="success"?(n("#messageSection").addClass("isa_success"),n("#messageSection").removeClass("isa_info"),n("#messageSection").removeClass("isa_error"),n("#mgdLabel").addClass("lblSuccess"),n("#mgdLabel").removeClass("lblInfo"),n("#mgdLabel").removeClass("lblError")):i==="error"&&(n("#messageSection").addClass("isa_error"),n("#messageSection").removeClass("isa_info"),n("#messageSection").removeClass("isa_success"),n("#mgdLabel").addClass("lblError"),n("#mgdLabel").removeClass("lblInfo"),n("#mgdLabel").removeClass("lblSuccess"));n("#messageSection").fadeIn();n("#mgdLabel").text(t)}r.on("click",".cart-pilot",function(){var r=n(this);typeof Storage!="undefined"?(localStorage.clickcount=localStorage.clickcount?Number(localStorage.clickcount)+1:1,i.text(localStorage.clickcount),t.push({BookID:0,BookedFor:n("#datepicker").val(),StaffID:r.attr("data-staffid"),StaffName:r.attr("data-staffname")}),localStorage.cartVar=JSON.stringify(t)):u("Sorry, your browser does not support web storage...","error");r.attr("disabled",!0)});r.on("click",".hide-pilot",function(){n(this).parent().parent().remove()})}function o(){typeof Storage!="undefined"&&(localStorage.clickcount=0)}var u=this,i=n(".container").find(".cartItem"),t=[],s=n("#bookingDv"),r=n("#pilotList");u.init=function(){f();e();o()}}n(function(){var n=new t;n.init()})})(jQuery);